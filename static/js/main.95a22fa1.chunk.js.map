{"version":3,"sources":["app/Navbar.js","features/posts/components/PostAuthor.js","features/posts/components/PostsList.js","features/posts/postsSlice.js","features/posts/components/AddPostForm.js","features/posts/components/SinglePostPage.js","features/posts/components/EditPostForm.js","App.js","api/server.js","features/users/usersSlice.js","app/store.js","index.js"],"names":["Navbar","className","to","PostAuthor","userId","author","useSelector","state","users","find","user","id","name","PostList","posts","map","post","key","title","content","substring","postsSlice","createSlice","initialState","reducers","postAdded","reducer","action","push","payload","prepare","nanoid","postUpdated","existingPost","actions","AddPostForm","useState","setTitle","setContent","setUserId","dispatch","useDispatch","canSave","Boolean","htmlFor","type","value","onChange","e","target","onClick","disabled","SinglePostPage","postId","match","params","EditPostForm","history","useHistory","placeholder","App","seedDate","exact","path","render","Fragment","component","usersSlice","configureStore","postsReducer","usersReducer","IdSerializer","RestSerializer","extend","serializeIds","rng","seedrandom","randomSeedString","localStorage","getItem","getRandomInt","min","max","Math","ceil","floor","Date","toISOString","setItem","setRandom","faker","seed","getTime","randomFromArray","array","length","notificationTemplates","Server","routes","this","namespace","resource","server","schema","req","data","normalizedRequestAttrs","date","Error","create","get","comments","pastDate","numNotifications","now","queryParams","since","parseISO","valueOf","setMinutes","getMinutes","notifications","Array","db","template","between","message","read","isNew","models","Model","hasMany","belongsTo","comment","notification","factories","Factory","firstName","lastName","findName","username","internet","userName","afterCreate","createList","sentence","recent","article","reactions","thumbsUp","hooray","heart","rocket","eyes","association","past","text","paragraph","serializers","seeds","ReactDOM","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.95a22fa1.chunk.js","sourcesContent":["import React from 'react';\n\nimport { Link } from 'react-router-dom';\n\nexport const Navbar = () => {\n  return (\n    <nav>\n      <section>\n        <h1>Redux Essentials Example</h1>\n\n        <div className=\"navContent\">\n          <div className=\"navLinks\">\n            <Link to=\"/\">Posts</Link>\n          </div>\n        </div>\n      </section>\n    </nav>\n  );\n};\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport const PostAuthor = ({ userId }) => {\r\n  const author = useSelector(state =>\r\n    state.users.find(user => user.id === userId)\r\n  );\r\n\r\n  return (\r\n    <span>\r\n      by {author ? author.name : 'Unknown user'}\r\n    </span>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { PostAuthor } from './PostAuthor'\r\n\r\nexport const PostList = () => {\r\n  const posts = useSelector(state => state.posts);\r\n\r\n  return (\r\n    <section>\r\n      <h2>Posts</h2>\r\n      {posts.map(post => (\r\n        <article className=\"post-excerpt\" key={post.id}>\r\n          <h3>{post.title}</h3>\r\n\r\n          <p className=\"post-content\">\r\n            {post.content.substring(0, 100)}\r\n          </p>\r\n\r\n          <PostAuthor userId={post.user} />\r\n\r\n          <Link\r\n            to={`/posts/${post.id}`}\r\n            className=\"button muted-button\"\r\n          >\r\n            View Post\r\n          </Link>\r\n        </article>\r\n      ))}\r\n    </section>\r\n  )\r\n}\r\n","import { createSlice, nanoid } from '@reduxjs/toolkit'\r\n\r\nconst initialState = [\r\n  { id: '1', title: 'First Post!', content: 'Hello!' },\r\n  { id: '2', title: 'Second Post', content: 'More text' },\r\n];\r\n\r\nconst postsSlice = createSlice({\r\n  name: 'posts',\r\n  initialState,\r\n  reducers: {\r\n    postAdded: {\r\n      reducer(state, action) {\r\n        state.push(action.payload);\r\n      },\r\n      prepare(title, content, userId) {\r\n        return {\r\n          payload: {\r\n            id: nanoid(),\r\n            title,\r\n            content,\r\n            user: userId,\r\n          }\r\n        };\r\n      },\r\n    },\r\n    postUpdated(state, action) {\r\n      const { id, title, content } = action.payload;\r\n      const existingPost = state.find(post => post.id === id);\r\n\r\n      if (existingPost) {\r\n        existingPost.title = title;\r\n        existingPost.content = content;\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const { postAdded, postUpdated } = postsSlice.actions;\r\n\r\nexport default postsSlice.reducer;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { postAdded } from '../postsSlice';\r\n\r\nexport const AddPostForm = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const [userId, setUserId] = useState('');\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const users = useSelector(state => state.users);\r\n\r\n  const onTitleChange = e => setTitle(e.target.value);\r\n  const onContentChange = e => setContent(e.target.value);\r\n  const onAuthorChange = e => setUserId(e.target.value);\r\n\r\n  const onSavePostClicked = () => {\r\n    if (title && content) {\r\n      dispatch(postAdded(title, content, userId));\r\n\r\n      setTitle('');\r\n      setContent('');\r\n    }\r\n  };\r\n\r\n  const canSave = Boolean(title) && Boolean(content) && Boolean(userId);\r\n\r\n  return (\r\n    <section>\r\n      <h2>Add a New post</h2>\r\n\r\n      <form action=\"\">\r\n        <label htmlFor=\"postTitle\">Post Title:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"postTitle\"\r\n          name=\"postTitle\"\r\n          value={title}\r\n          onChange={onTitleChange}\r\n        />\r\n\r\n        <label htmlFor=\"postAuthor\">Author:</label>\r\n        <select\r\n          id=\"postAuthor\"\r\n          value={userId}\r\n          onChange={onAuthorChange}\r\n        >\r\n          <option value=\"\">Please select an Author</option>\r\n          {users.map(user => (\r\n            <option value={user.id} key={user.id}>\r\n              {user.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <label htmlFor=\"postContent\">Content:</label>\r\n        <textarea\r\n          id=\"postContent\"\r\n          name=\"postContent\"\r\n          value={content}\r\n          onChange={onContentChange}\r\n        />\r\n\r\n        <button\r\n          type=\"button\"\r\n          onClick={onSavePostClicked}\r\n          disabled={!canSave}\r\n        >\r\n          Save Post\r\n        </button>\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport { PostAuthor } from './PostAuthor'\r\n\r\nexport const SinglePostPage = ({ match }) => {\r\n  const { postId } = match.params;\r\n\r\n  const post = useSelector(state =>\r\n    state.posts.find(post => post.id === postId)\r\n  );\r\n\r\n  return (\r\n    <section>\r\n      {!post && (\r\n        <h2>Post not found</h2>\r\n      )}\r\n      <article className=\"post\">\r\n        <h2>{post.title}</h2>\r\n\r\n        <p className=\"post-content\">{post.content}</p>\r\n\r\n        <PostAuthor userId={post.user} />\r\n\r\n        <Link to={`/editPost/${post.id}`} className=\"button\">\r\n            Edit post\r\n        </Link>\r\n      </article>\r\n    </section>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { postUpdated } from '../postsSlice';\r\n\r\nexport const EditPostForm = ({ match }) => {\r\n  const { postId } = match.params;\r\n\r\n  const post = useSelector(state =>\r\n    state.posts.find(post => post.id === postId)\r\n  )\r\n\r\n  const [title, setTitle] = useState(post.title);\r\n  const [content, setContent] = useState(post.content);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const onTitleChange = e => setTitle(e.target.value);\r\n  const onContentChange = e => setContent(e.target.value);\r\n\r\n  const onSavePostClicked = () => {\r\n    if (title && content) {\r\n      dispatch(postUpdated({\r\n        id: postId,\r\n        title,\r\n        content\r\n      }));\r\n\r\n      history.push(`/posts/${postId}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <h2>Edit Post</h2>\r\n\r\n      <form>\r\n        <label htmlFor=\"postTitle\">Post Title:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"postTitle\"\r\n          name=\"postTitle\"\r\n          placeholder=\"What's on your mind?\"\r\n          value={title}\r\n          onChange={onTitleChange}\r\n        />\r\n\r\n        <label htmlFor=\"postContent\">Content:</label>\r\n        <textarea\r\n          id=\"postContent\"\r\n          name=\"postContent\"\r\n          value={content}\r\n          onChange={onContentChange}\r\n        />\r\n      </form>\r\n\r\n      <button type=\"button\" onClick={onSavePostClicked}>\r\n        Save Post\r\n      </button>\r\n    </section>\r\n  )\r\n};\r\n","import React from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom'\n\nimport { Navbar } from './app/Navbar'\nimport { PostList } from './features/posts/components/PostsList'\nimport { AddPostForm } from './features/posts/components/AddPostForm'\nimport { SinglePostPage } from './features/posts/components/SinglePostPage'\nimport { EditPostForm } from './features/posts/components/EditPostForm'\n\nfunction App() {\n  return (\n    <Router>\n      <Navbar />\n      <div className=\"App\">\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={() => (\n              <React.Fragment>\n                <AddPostForm />\n                <PostList />\n              </React.Fragment>\n            )}\n          />\n          <Route exact path=\"/posts/:postId\" component={SinglePostPage} />\n          <Route exact path=\"/editPost/:postId\" component={EditPostForm} />\n          <Redirect to=\"/\" />\n        </Switch>\n      </div>\n    </Router>\n  )\n}\n\nexport default App\n","import {\n  Server,\n  Model,\n  Factory,\n  belongsTo,\n  hasMany,\n  association,\n  RestSerializer,\n} from 'miragejs'\n\nimport { nanoid } from '@reduxjs/toolkit'\n\nimport faker from 'faker'\nimport { sentence, paragraph, article, setRandom } from 'txtgen'\nimport { parseISO } from 'date-fns'\nimport seedrandom from 'seedrandom'\n\nconst IdSerializer = RestSerializer.extend({\n  serializeIds: 'always',\n})\n\n// Set up a seeded random number generator, so that we get\n// a consistent set of users / entries each time the page loads.\n// This can be reset by deleting this localStorage value,\n// or turned off by setting `useSeededRNG` to false.\nlet useSeededRNG = true\n\nlet rng = seedrandom()\n\nif (useSeededRNG) {\n  let randomSeedString = localStorage.getItem('randomTimestampSeed')\n  let seedDate\n\n  if (randomSeedString) {\n    seedDate = new Date(randomSeedString)\n  } else {\n    seedDate = new Date()\n    randomSeedString = seedDate.toISOString()\n    localStorage.setItem('randomTimestampSeed', randomSeedString)\n  }\n\n  rng = seedrandom(randomSeedString)\n  setRandom(rng)\n  faker.seed(seedDate.getTime())\n}\n\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  return Math.floor(rng() * (max - min + 1)) + min\n}\n\nconst randomFromArray = (array) => {\n  const index = getRandomInt(0, array.length - 1)\n  return array[index]\n}\n\nconst notificationTemplates = [\n  'poked you',\n  'says hi!',\n  `is glad we're friends`,\n  'sent you a gift',\n]\n\nnew Server({\n  routes() {\n    this.namespace = 'fakeApi'\n    //this.timing = 2000\n\n    this.resource('users')\n    this.resource('posts')\n    this.resource('comments')\n\n    const server = this\n\n    this.post('/posts', function (schema, req) {\n      const data = this.normalizedRequestAttrs()\n      data.date = new Date().toISOString()\n      // Work around some odd behavior by Mirage that's causing an extra\n      // user entry to be created unexpectedly when we only supply a userId.\n      // It really want an entire Model passed in as data.user for some reason.\n      const user = schema.users.find(data.userId)\n      data.user = user\n\n      if (data.content === 'error') {\n        throw new Error('Could not save the post!')\n      }\n\n      const result = server.create('post', data)\n      return result\n    })\n\n    this.get('/posts/:postId/comments', (schema, req) => {\n      const post = schema.posts.find(req.params.postId)\n      return post.comments\n    })\n\n    this.get('/notifications', (schema, req) => {\n      const numNotifications = getRandomInt(1, 5)\n\n      let pastDate\n\n      const now = new Date()\n\n      if (req.queryParams.since) {\n        pastDate = parseISO(req.queryParams.since)\n      } else {\n        pastDate = new Date(now.valueOf())\n        pastDate.setMinutes(pastDate.getMinutes() - 15)\n      }\n\n      // Create N random notifications. We won't bother saving these\n      // in the DB - just generate a new batch and return them.\n      const notifications = [...Array(numNotifications)].map(() => {\n        const user = randomFromArray(schema.db.users)\n        const template = randomFromArray(notificationTemplates)\n        return {\n          id: nanoid(),\n          date: faker.date.between(pastDate, now).toISOString(),\n          message: template,\n          user: user.id,\n          read: false,\n          isNew: true,\n        }\n      })\n\n      return { notifications }\n    })\n  },\n  models: {\n    user: Model.extend({\n      posts: hasMany(),\n    }),\n    post: Model.extend({\n      user: belongsTo(),\n      comments: hasMany(),\n    }),\n    comment: Model.extend({\n      post: belongsTo(),\n    }),\n    notification: Model.extend({}),\n  },\n  factories: {\n    user: Factory.extend({\n      id() {\n        return nanoid()\n      },\n      firstName() {\n        return faker.name.firstName()\n      },\n      lastName() {\n        return faker.name.lastName()\n      },\n      name() {\n        return faker.name.findName(this.firstName, this.lastName)\n      },\n      username() {\n        return faker.internet.userName(this.firstName, this.lastName)\n      },\n\n      afterCreate(user, server) {\n        server.createList('post', 3, { user })\n      },\n    }),\n    post: Factory.extend({\n      id() {\n        return nanoid()\n      },\n      title() {\n        return sentence()\n      },\n      date() {\n        return faker.date.recent(7)\n      },\n      content() {\n        return article(1)\n      },\n      reactions() {\n        return {\n          thumbsUp: 0,\n          hooray: 0,\n          heart: 0,\n          rocket: 0,\n          eyes: 0,\n        }\n      },\n      afterCreate(post, server) {\n        //server.createList('comment', 3, { post })\n      },\n\n      user: association(),\n    }),\n    comment: Factory.extend({\n      id() {\n        return nanoid()\n      },\n      date() {\n        return faker.date.past(2)\n      },\n      text() {\n        return paragraph()\n      },\n      post: association(),\n    }),\n  },\n  serializers: {\n    user: IdSerializer,\n    post: IdSerializer,\n    comment: IdSerializer,\n  },\n  seeds(server) {\n    server.createList('user', 3)\n  },\n})\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = [\r\n  { id: '0', name: 'Tianna Jenkins' },\r\n  { id: '1', name: 'Kevin Grant' },\r\n  { id: '2', name: 'Madison Price' },\r\n];\r\n\r\nconst usersSlice = createSlice({\r\n  name: 'users',\r\n  initialState,\r\n  reducers: {},\r\n})\r\n\r\nexport default usersSlice.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport postsReducer from '../features/posts/postsSlice';\nimport usersReducer from '../features/users/usersSlice';\n\nexport default configureStore({\n  reducer: {\n    posts: postsReducer,\n    users: usersReducer,\n  },\n});\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport store from './app/store'\nimport { Provider } from 'react-redux'\n\nimport './api/server'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}